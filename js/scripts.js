"use strict";function hasTouch(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}function getElemDistance(a){var b=0;if(a.offsetParent)do b+=a.offsetTop,a=a.offsetParent;while(a);return b>=0?b:0}if(hasTouch())try{for(var si in document.styleSheets){var styleSheet=document.styleSheets[si];if(styleSheet.rules)for(var ri=styleSheet.rules.length-1;ri>=0;ri--)styleSheet.rules[ri].selectorText&&styleSheet.rules[ri].selectorText.match(":hover")&&styleSheet.deleteRule(ri)}}catch(ex){}var menuFixed=function(){function a(){var a=document.querySelector("menu"),b=getElemDistance(a);a.nextElementSibling.style.marginTop=a.offsetHeight+"px",a.setAttribute("data-position",b),window.addEventListener("scroll",function(){a.getAttribute("data-position")<document.body.scrollTop||a.getAttribute("data-position")<document.documentElement.scrollTop?a.classList.add("scroll"):a.classList.remove("scroll")},!1)}return{menu:a}}(),scrollAnimation=function(){function a(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}function b(){return document.querySelector("menu").offsetHeight}function c(){history.pushState("",document.title,window.location.pathname+window.location.search)}function d(a,c){var d,e=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,f=window.pageYOffset;d=document.body.scrollHeight-a<e?document.documentElement.scrollHeight-e:a-b();var g,h=d-f,i=function(a){return.5>a?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1};h&&window.requestAnimationFrame(function j(a){g||(g=a);var b=a-g,d=Math.min(b/c,1);d=i(d),window.scrollTo(0,f+h*d),c>b&&window.requestAnimationFrame(j)})}function e(){menuFixed.menu();var b=a();window.addEventListener("resize",function(){var c=a();c!==b&&menuFixed.menu()},!1)}function f(a){window.addEventListener("scroll",function(){function b(a){m(a,function(a,b){b.classList.remove("active")})}var c=document.documentElement.scrollHeight-document.documentElement.clientHeight;if(window.pageYOffset==c){var d=a.querySelectorAll(".sidebar-navigation ul li"),e=a.querySelectorAll(".menu li");b(d),b(e);var f=e[e.length-1],g=d[d.length-1];f.classList.add("active"),g.classList.add("active")}},!1)}function g(a,b){var e=a.querySelectorAll(".scroll-element");m(e,function(c,e){function f(){var a=window.location.hash;if(a=="#"+e.getAttribute("data-id")){var c=getElemDistance(e);d(c,b.duration)}}var g=a.querySelectorAll(".menu li");m(g,function(a,c){c.addEventListener("click",function(){var a=this;if(a.getAttribute("data-id")==e.getAttribute("data-id")){var c=getElemDistance(e);window.location.hash=a.getAttribute("data-id"),d(c,b.duration)}},!1)}),window.addEventListener("hashchange",function(){f()},!1),setTimeout(function(){f()},100)}),window.addEventListener("scroll",function(){0==document.body.scrollTop&&0==document.documentElement.scrollTop&&c()},!1)}function h(a,b){var c=document.createElement("SECTION");c.setAttribute("class","sidebar-navigation"),document.body.insertBefore(c,document.body.firstChild),c.innerHTML="<ul></ul>";for(var e=a.querySelectorAll(".menu li"),f=e.length,g=a.querySelector(".sidebar-navigation ul"),h=0;f>h;)g.innerHTML+='<li data-number="'+(h+1)+'"><span class="circle"></span><span class="stripe"></span></li>',h++;for(var i=a.querySelectorAll(".sidebar-navigation ul li"),j=[],k=0,l=i.length;l>k;k++){var n=i[k];j.push(n)}for(var k=0,o=e.length,p=j.length;o>k&&p;k++){var q=j[k],r=e[k];q.setAttribute("data-id",r.getAttribute("data-id"));var s=a.querySelectorAll(".scroll-element");m(s,function(a,c){q.addEventListener("click",function(){var a=this;if(a.getAttribute("data-id")==c.getAttribute("data-id")){var e=getElemDistance(c);window.location.hash=a.getAttribute("data-id"),d(e,b.duration)}},!1)})}}function i(a){var b=a.querySelectorAll(".sidebar-navigation ul li"),c=a.querySelectorAll(".scroll-element");m(b,function(a,b){m(c,function(a,c){c.getAttribute("data-id")==b.getAttribute("data-id")&&c.setAttribute("data-number",parseFloat(b.getAttribute("data-number")))})})}function j(a){var c=a.querySelectorAll(".scroll-element");m(c,function(c,d){window.addEventListener("scroll",function(){function c(a){m(a,function(a,b){var c=b.getAttribute("data-id");c==f?b.classList.add("active"):b.classList.remove("active")})}var e=Math.floor(d.getBoundingClientRect().top-b());if(0>=e){var f=d.getAttribute("data-id"),g=a.querySelectorAll(".menu li");c(g);var h=a.querySelectorAll(".sidebar-navigation ul li");c(h)}setTimeout(function(){var a=document.querySelector(".sidebar-navigation ul li.active");if(a){var b=parseFloat(a.getAttribute("data-number")),c=document.querySelectorAll(".sidebar-navigation ul li");m(c,function(a,c){var d=parseFloat(c.getAttribute("data-number"));b>d?c.classList.add("before-line"):c.classList.remove("before-line")})}},50)},!1)})}function k(a){window.addEventListener("scroll",function(){var c=a.querySelectorAll(".sidebar-navigation ul li"),d=a.querySelectorAll(".menu li"),e=a.querySelectorAll(".scroll-element"),f=e[0],g=c[0],h=d[0],i=getElemDistance(f)-b();0!=window.pageYOffset&&window.pageYOffset<i&&(g.classList.remove("active"),h.classList.remove("active"))},!1)}function l(){var a=document.querySelector("html.internal-navigation");a&&(e(),g(a,config),j(a),h(a,config),i(a),f(a),k(a))}var m=function(a,b,c){for(var d=0;d<a.length;d++)b.call(c,d,a[d])};return{app:l}}();