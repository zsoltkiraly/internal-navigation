function getElemDistance(a){var b=0;if(a.offsetParent)do b+=a.offsetTop,a=a.offsetParent;while(a);return b>=0?b:0}var menuFixed=function(){function a(){var a=document.querySelector("menu"),b=getElemDistance(a);a.nextElementSibling.style.marginTop=a.offsetHeight+"px",a.setAttribute("data-position",b),window.addEventListener("scroll",function(){a.getAttribute("data-position")<document.body.scrollTop||a.getAttribute("data-position")<document.documentElement.scrollTop?a.classList.add("scroll"):a.classList.remove("scroll")},!1)}return{menu:a}}(),scrollAnimation=function(){function a(){return document.querySelector("menu").offsetHeight}function b(){history.pushState("",document.title,window.location.pathname+window.location.search)}function c(b,c){var d,e=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,f=window.pageYOffset;d=document.body.scrollHeight-b<e?document.documentElement.scrollHeight-e:b-a();var g,h=d-f,i=function(a){return.5>a?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1};h&&window.requestAnimationFrame(function j(a){g||(g=a);var b=a-g,d=Math.min(b/c,1);d=i(d),window.scrollTo(0,f+h*d),c>b&&window.requestAnimationFrame(j)})}function d(a){window.addEventListener("scroll",function(){function b(a){j(a,function(a,b){b.classList.remove("active")})}var c=document.documentElement.scrollHeight-document.documentElement.clientHeight;if(window.pageYOffset==c){var d=a.querySelectorAll(".sidebar-navigation ul li"),e=a.querySelectorAll(".menu li");b(d),b(e);var f=e[e.length-1],g=d[d.length-1];f.classList.add("active"),g.classList.add("active")}},!1)}function e(a,d){var e=a.querySelectorAll(".scroll-element");j(e,function(b,e){function f(){var a=window.location.hash;if(a=="#"+e.getAttribute("data-id")){var b=getElemDistance(e);c(b,d.duration)}}var g=a.querySelectorAll(".menu li");g[0].classList.add("active"),j(g,function(a,b){b.addEventListener("click",function(){var a=this;if(a.getAttribute("data-id")==e.getAttribute("data-id")){var b=getElemDistance(e);window.location.hash=a.getAttribute("data-id"),c(b,d.duration)}},!1)}),window.addEventListener("hashchange",function(){f()},!1),setTimeout(function(){f()},100)}),window.addEventListener("scroll",function(){0==document.body.scrollTop&&0==document.documentElement.scrollTop&&b()},!1)}function f(a,b){var d=document.createElement("SECTION");d.setAttribute("class","sidebar-navigation"),document.body.insertBefore(d,document.body.firstChild),d.innerHTML='<div class="scroll-line"><div class="line" style="height: 0px;"></div></div><ul></ul>';for(var e=a.querySelectorAll(".menu li"),f=e.length,g=a.querySelector(".sidebar-navigation ul"),h=0;f>h;)g.innerHTML+="<li></li>",h++;var i=a.querySelectorAll(".sidebar-navigation ul li");i[0].classList.add("active");for(var k=[],l=0,m=i.length;m>l;l++){var n=i[l];k.push(n)}for(var l=0,o=e.length,p=k.length;o>l&&p;l++){var q=k[l],r=e[l];q.setAttribute("data-id",r.getAttribute("data-id"));var s=a.querySelectorAll(".scroll-element");j(s,function(a,d){q.addEventListener("click",function(){var a=this;if(a.getAttribute("data-id")==d.getAttribute("data-id")){var e=getElemDistance(d);window.location.hash=a.getAttribute("data-id"),c(e,b.duration)}},!1)})}}function g(a){var b=getElemDistance(a.querySelectorAll(".scroll-element")[0]),c=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,d=document.body.scrollHeight-c,e=a.querySelector(".scroll-line").offsetHeight,f=d/e;window.addEventListener("scroll",function(){if(b<document.body.scrollTop||b<document.documentElement.scrollTop){var c=(window.pageYOffset-b)/f;e>=c&&(a.querySelector(".scroll-line .line").style.height=c+"px")}},!1)}function h(b){var c=b.querySelectorAll(".scroll-element");j(c,function(c,d){window.addEventListener("scroll",function(){function c(a){j(a,function(a,b){var c=b.getAttribute("data-id");c==f?b.classList.add("active"):b.classList.remove("active")})}var e=Math.floor(d.getBoundingClientRect().top-a());if(0>=e){var f=d.getAttribute("data-id"),g=b.querySelectorAll(".menu li");c(g);var h=b.querySelectorAll(".sidebar-navigation ul li");c(h)}},!1)})}function i(){var a=document.querySelector("html.internal-navigation");a&&(e(a,config),h(a),f(a,config),g(a),d(a))}var j=function(a,b,c){for(var d=0;d<a.length;d++)b.call(c,d,a[d])};return{app:i}}();